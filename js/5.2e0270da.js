(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"311f":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"parallax-node",style:{left:e.x,top:e.y,"z-index":100*e.weight,transform:"translateX("+e.weight*e.relPos+"px)","pointer-events":e.nomouse?"none":null}},[e._t("default",[i("q-img",{staticStyle:{"pointer-events":"none"},style:{width:e.width+"px",height:e.height+"px"},attrs:{src:e.src,width:e.width+"px",height:e.height+"px",position:"0 0"}})],{ratioWidth:e.ratioWidth,ratioHeight:e.ratioHeight})],2)},r=[],s=(i("c5f6"),i("1209")),a={props:{src:String,x:String,y:String,width:Number,height:Number,weight:Number,position:Number,nomouse:Boolean},data:function(){return{relPos:0,animation:null}},computed:{ratioWidth:function(){return this.$q.screen.width/1920},ratioHeight:function(){return this.$q.screen.height/969}},methods:{},watch:{position:function(e){this.animation&&this.animation.pause(),this.animation=Object(s["a"])({targets:this,relPos:e,easing:"easeInOutQuad",round:1})}}},o=a,l=(i("c165"),i("2877")),c=i("068f"),h=i("eebe"),d=i.n(h),p=Object(l["a"])(o,n,r,!1,null,"67e251bc",null);t["a"]=p.exports;d()(p,"components",{QImg:c["a"]})},"6e18":function(e,t,i){},ba83:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.horizontal",value:e.onPan,expression:"onPan",modifiers:{horizontal:!0}}]},[i("parallax-node",{attrs:{src:"statics/parallax/down.png",x:"0",y:"0",width:3840,height:1080,weight:.7,position:e.relPos,nomouse:""}}),i("parallax-node",{attrs:{src:"statics/parallax/up.png",x:"0",y:"0",width:3850,height:1080,weight:1,position:e.relPos,nomouse:""}}),i("parallax-node",{attrs:{x:e.desktopX,y:e.desktopY,weight:1.5,position:e.relPos}},[i("div",{staticClass:"row items-start",style:e.rowStyle},[i("div",{staticClass:"col-4",staticStyle:{border:"1px solid #ccc"},style:e.resStyle},[i("input",{ref:"cropImg",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.croppie}}),i("q-btn",{staticStyle:{width:"100%","border-radius":"0"},attrs:{flat:"",label:"Загрузить картинку"},on:{click:e.getImgFile}}),i("vue-croppie",{ref:"croppieRef",style:"margin-left: "+(e.rV/2-(e.rV-110)/2)+"px; width: "+(e.rV-110)+"px; height: "+(e.rV-110)+"px;",attrs:{enableResize:!1,enableOrientation:!0,boundary:{},viewport:{width:"",height:"",type:"circle"}},on:{update:e.updateImg}}),e.$q.platform.is.mobile?i("q-btn",{staticStyle:{"border-radius":"0",position:"absolute"},style:"top: "+(e.rV-37)+"px; width: "+e.rV+"px;",attrs:{flat:"",label:"Обновить",icon:"refresh"},on:{click:e.cropImg}}):e._e()],1),i("div",{staticClass:"col-4",staticStyle:{"background-color":"white"},style:e.resStyle,on:{touchstart:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}}},[i("canvas",{ref:"blankCanvas",style:e.resStyle})]),i("div",{staticClass:"col-4",staticStyle:{"font-size":"18px","font-weight":"bold",padding:"25px","padding-top":"50px",border:"1px solid #ccc"},style:e.resStyle},[i("div",[e._v("\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Sed consequat diam neque.\n          Maecenas elementum at quam pharetra mattis.\n          Vestibulum lobortis in nibh et euismod.\n        ")])]),i("div",{staticClass:"col-4",style:e.resStyle},[i("q-img",{style:"position: relative; left: "+47*e.mR+"px; top: "+47*e.mR+"px; width: "+78*e.mR+"px; height: "+78*e.mR+"px; transform-origin: 50% 50%; transform: rotate(-15deg)"}),i("q-img",{style:"position: relative; bottom: "+78*e.mR+"px; height: "+e.rV+"px;",attrs:{src:"statics/construct/1.png"}})],1),i("div",{staticClass:"col-4",style:e.resStyle},[i("q-img",{style:"position: relative; left: "+143*e.mR+"px; top: "+179*e.mR+"px; width: "+47*e.mR+"px; height: "+47*e.mR+"px; transform-origin: 50% 50%; transform: rotate(0deg)"}),i("q-img",{style:"position: relative; bottom: "+47*e.mR+"px; height: "+e.rV+"px;",attrs:{src:"statics/construct/2.png"}})],1),i("div",{staticClass:"col-4",style:e.resStyle},[i("q-img",{style:"position: relative; left: "+86*e.mR+"px; top: "+38*e.mR+"px; width: "+60*e.mR+"px; height: "+60*e.mR+"px; transform-origin: 50% 50%; transform: rotate(-30deg)"}),i("q-img",{style:"position: relative; bottom: "+60*e.mR+"px; height: "+e.rV+"px;",attrs:{src:"statics/parallax/about1.png"}})],1)])]),i("canvas",{ref:"textureCanvas",staticStyle:{display:"none"}})],1)},r=[],s=i("4082"),a=i.n(s),o=(i("7f7f"),i("311f")),l=i("5a89"),c=i("34ad"),h=i("4721");function d(){return{defaultWidth:325,defaultHeight:325,maskImage:new Image(1024,1024),animationId:-1,mesh:null,meshImage:null,renderer:null,scene:null,resize:null}}var p=d();function m(e,t,i){var n=i.getContext("2d");n.canvas.width=1024,n.canvas.height=1024,n.fillStyle="#FFF",n.fillRect(0,0,n.canvas.width,n.canvas.height);var r=new l["g"](n.canvas);function s(){n.fillStyle="#f7fffc",n.fillRect(0,0,n.canvas.width,n.canvas.height);var e=this.width/this.height;n.drawImage(p.meshImage,768-256*e,0,512*e,512),n.drawImage(p.maskImage,0,0,1024,1024),r.needsUpdate=!0}p.meshImage=new Image,p.meshImage.onload=s,p.renderer=new l["wb"]({canvas:t,antialias:!0}),e.screenLtLg?p.renderer.setSize(window.innerWidth,window.innerHeight):p.renderer.setSize(p.defaultWidth,p.defaultHeight),p.renderer.autoClearColor=!1;var a=75,o=e.screenLtLg?window.innerWidth/window.innerHeight:p.defaultWidth/p.defaultHeight,d=.1,m=1100,u=new l["V"](a,o,d,m);u.position.x=1;var g=new h["a"](u,p.renderer.domElement);g.minDistance=1,g.maxDistance=3,g.enableKeys=!1,g.enablePan=!1,g.minPolarAngle=Math.PI/16,g.maxPolarAngle=Math.PI-Math.PI/16;var f="/statics/models/construct/",w=[f+"px.jpg",f+"nx.jpg",f+"py.jpg",f+"ny.jpg",f+"pz.jpg",f+"nz.jpg"],x=(new l["l"]).load(w);x.mapping=l["k"],p.scene=new l["fb"],p.scene.background=x,p.resize=function(t){if(t=Math.round(t),e.screenLtLg){var i=t,n=t;u.aspect=i/n,u.updateProjectionMatrix(),p.renderer.setSize(i,n)}else{var r=p.defaultWidth,s=p.defaultHeight;u.aspect=r/s,u.updateProjectionMatrix(),p.renderer.setSize(r,s)}};var v=new l["a"](16777215);p.scene.add(v);var y=new l["j"](1,1e3,256);y.renderTarget.texture.generateMipmaps=!0,y.renderTarget.texture.minFilter=l["C"];var b=new l["M"]({color:16777215,envMap:y.renderTarget.texture,refractionRatio:.985,opacity:.3,transparent:!0});if(p.mesh)p.mesh.children[1].material.map=r,p.scene.add(p.mesh);else{var I=new c["a"];I.load("/statics/models/construct/ledenec.gltf",(function(e){p.mesh=e.scene,p.mesh.scale.x=.7,p.mesh.scale.y=.7,p.mesh.scale.z=.7,p.mesh.children[2].material.map=r,p.mesh.children[1].material=b,p.scene.add(p.mesh),p.mesh.position.y=-2.75,p.mesh.rotateY(Math.PI)}))}function q(e){g.update(),y.update(p.renderer,p.scene),b.envMap=y.renderTarget.texture,p.renderer.render(p.scene,u),p.animationId=requestAnimationFrame(q)}p.renderer.render(p.scene,u),p.animationId=requestAnimationFrame(q)}function u(){cancelAnimationFrame(p.animationId);while(p.scene.children.length>0){var e=p.scene.children[0];e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose(),p.scene.remove(e)}p.scene.dispose(),p.renderer.renderLists.dispose(),window.removeEventListener("resize",p.resize),p=d()}p.maskImage.src="/statics/models/construct/lpOrder.png";var g={get meshImage(){return p.meshImage},main:m,destroy:u,get resize(){return p.resize}},f={components:{ParallaxNode:o["a"]},data:function(){return{name:null,telephone:null,nameCompany:null,count:null,outDate:null,accept:!0,relPos:0,idPos:0,fixedPositions:[0,1/1.5,2/1.5],croppieImage:"",imgLoaded:!1,replaceImg:"img/logo.png",timer:0}},computed:{rV:function(){return this.$q.screen.lt.lg?this.$q.screen.lt.sm?(this.$q.screen.height-50)/2:(this.$q.screen.height-132)/2:325},rowStyle:function(){return this.$q.screen.lt.lg,"width: ".concat(3*this.rV,"px; height: ").concat(2*this.rV,"px;")+" background-color: #eee"},resStyle:function(){return this.$q.screen.lt.lg,"width: ".concat(this.rV,"px; height: ").concat(this.rV,"px;")},desktopX:function(){return this.$q.screen.lt.lg&&(this.$q.screen.lt.sm||this.$q.platform.is.mobile)?"calc(50% - ".concat(this.rV/2,"px)"):"calc(50% - ".concat(3*this.rV/2,"px)")},desktopY:function(){return this.$q.screen.lt.lg?this.$q.screen.lt.sm?50+.5*(this.$q.screen.height-50)-this.rV-50+"px":"calc(50% - ".concat(this.rV,"px)"):"calc(50% - ".concat(this.rV-41,"px)")},screenLtLg:function(){return this.$q.screen.lt.lg},cpR:function(){return this.rV},mR:function(){return this.$q.screen.lt.lg?this.rV/325:1}},mounted:function(){g.main(this,this.$refs.blankCanvas,this.$refs.textureCanvas),g.resize(this.rV)},destroyed:function(){g.destroy()},methods:{onSubmit:function(){var e=this;this.$refs.blankForm.validate().then((function(t){t?!0!==e.accept?e.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"You need to accept the license and terms first"}):(e.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Заявка отправлена, ожидайте звонка"}),e.onReset()):e.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Введите корректные данные"})}))},onReset:function(){this.name=null,this.telephone=null,this.nameCompany=null,this.count=null,this.outDate=null,this.accept=!0,this.$refs.blankForm.resetValidation()},onPan:function(e){e.event;var t=a()(e,["event"]),i=performance.now();if(i-this.timer>250&&t.distance.x>5){this.timer=i;var n="left"===t.direction?1:-1;this.idPos+n>=0&&this.idPos+n<this.fixedPositions.length&&(this.idPos+=n,this.relPos=-this.fixedPositions[this.idPos]*this.rV)}},getImgFile:function(){this.$refs.cropImg.click()},loadToLollipop:function(e){var t=this.$refs.imgFileInput;if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){g.meshImage.src=e.target.result},i.readAsDataURL(t.files[0])}},croppie:function(e){var t=this,i=e.target.files||e.dataTransfer.files;if(i.length){var n=new FileReader;n.onload=function(e){t.$refs.croppieRef.bind({url:e.target.result}),t.imgLoaded=!0},n.readAsDataURL(i[0])}},updateImg:function(){this.$q.platform.is.mobile||this.cropImg()},cropImg:function(){var e=this;if(this.imgLoaded){var t={type:"base64",size:{width:1024,height:1024},format:"jpeg"};this.$refs.croppieRef.result(t,(function(t){e.croppieImage=t,g.meshImage.src=t,e.replaceImg=t}))}},rotate:function(e){this.$refs.croppieRef.rotate(e)}},watch:{screenLtLg:function(e){e||(this.relPos=0)},rV:function(e){g.resize(e)}}},w=f,x=(i("e1fc"),i("2877")),v=i("9989"),y=i("9c40"),b=i("068f"),I=i("12c5"),q=i("eebe"),P=i.n(q),$=Object(x["a"])(w,n,r,!1,null,"8e02de2a",null);t["default"]=$.exports;P()($,"components",{QPage:v["a"],QBtn:y["a"],QImg:b["a"]}),P()($,"directives",{TouchSwipe:I["a"]})},c165:function(e,t,i){"use strict";var n=i("6e18"),r=i.n(n);r.a},c54d:function(e,t,i){},e1fc:function(e,t,i){"use strict";var n=i("c54d"),r=i.n(n);r.a}}]);